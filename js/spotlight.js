let spotlight=gsap.timeline({repeat:-1});const spotlightEl=document.getElementById("spotlight");let spotlightTimeout;function switchToInteractive(){nimbee_spots.clearActive(),document.documentElement.dataset.mode="interactive",spotlightEl.style.opacity=0,spotlight.pause(),trackMouse()}function resetTimeout(t){if(spotlightTimeout)return clearTimeout(spotlightTimeout),spotlightTimeout=null,void trackMouse();switchToInteractive()}function trackMouse(){spotlightTimeout=spotlightTimeout||setTimeout(()=>{spotlightEl.style.zIndex=4,spotlightEl.style.opacity=1,nimbee_spots.clearActive(),spotlight.resume(),spotlightTimeout=null,document.documentElement.dataset.mode="spotlight"},25e3)}function onStartEffects(t,o,e){const s=document.getElementById(t),i=document.getElementById(o);t=i.parentElement.children;const l=Array.prototype.forEach;let a=0;l.call(t,(t,o)=>{t.isEqualNode(i)&&(a=o)}),s.querySelector('[data-behavior="spot-control"]').classList.remove("is-active"),setTimeout(()=>{i.querySelector('[data-behavior="spot-control"]').classList.add("is-active"),fadein(document.querySelector("h1 .fade-in"),a)},e)}document.documentElement.dataset.mode="spotlight",spotlight.to("#spotlight",{"--spotlight-x":"34%","--spotlight-y":"62%",duration:1,delay:6,onStart:()=>{onStartEffects("spot-driver","spot-app",500)}}).to("#spotlight",{"--spotlight-x":"50%","--spotlight-y":"66%",duration:1,delay:6,onStart:()=>{onStartEffects("spot-app","spot-battery",500)}}).to("#spotlight",{"--spotlight-x":"44%","--spotlight-y":"54%",duration:1,delay:6,onStart:()=>{onStartEffects("spot-battery","spot-charging",500)}}).to("#spotlight",{"--spotlight-x":"72%","--spotlight-y":"50%",duration:1,delay:3,onStart:()=>{onStartEffects("spot-charging","spot-request",500)}}).to("#spotlight",{"--spotlight-x":"21%","--spotlight-y":"62%",duration:1,delay:6,onStart:()=>{onStartEffects("spot-request","spot-cargo",500)}}).to("#spotlight",{"--spotlight-x":"8%","--spotlight-y":"62%",duration:1,delay:6,onStart:()=>{onStartEffects("spot-cargo","spot-truck",500)}}).to("#spotlight",{"--spotlight-x":"74%","--spotlight-y":"72%",duration:1,delay:6,onStart:()=>{onStartEffects("spot-truck","spot-ev",500)}}).to("#spotlight",{"--spotlight-x":"35%","--spotlight-y":"72%",duration:1,delay:6,onStart:()=>{onStartEffects("spot-ev","spot-driver",500)}}),window.addEventListener("mousemove",resetTimeout),window.addEventListener("click",resetTimeout),document.addEventListener("keydown",t=>{"ArrowLeft"!==t.code&&"ArrowRight"!==t.code||switchToInteractive()});